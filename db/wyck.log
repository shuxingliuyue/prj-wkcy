/*C3*/SET SCHEMA PUBLIC
drop table if exists e_dict CASCADE 
drop table if exists e_dict_item CASCADE 
drop table if exists e_generator_class CASCADE 
drop table if exists e_generator_field CASCADE 
drop table if exists e_upms_login_log CASCADE 
drop table if exists e_upms_menu CASCADE 
drop table if exists e_upms_operate_log CASCADE 
drop table if exists e_upms_org CASCADE 
drop table if exists e_upms_post CASCADE 
drop table if exists e_upms_role CASCADE 
drop table if exists e_upms_role_menu CASCADE 
drop table if exists e_upms_user CASCADE 
drop table if exists e_upms_user_role CASCADE 
create table e_dict (id bigint generated by default as identity (start with 1), create_time timestamp, update_time timestamp, code varchar(255), name varchar(255), remark varchar(255), create_user_id bigint, update_user_id bigint, primary key (id))
create table e_dict_item (id bigint generated by default as identity (start with 1), create_time timestamp, update_time timestamp, code varchar(255), name varchar(255), remark varchar(255), sort integer, create_user_id bigint, update_user_id bigint, erupt_dict_id bigint, primary key (id))
create table e_generator_class (id bigint generated by default as identity (start with 1), create_time timestamp, update_time timestamp, class_name varchar(255), name varchar(255), remark varchar(2000), table_name varchar(255), create_user_id bigint, update_user_id bigint, primary key (id))
create table e_generator_field (id bigint generated by default as identity (start with 1), field_name varchar(255), is_show boolean, link_class varchar(255), not_null boolean, query boolean, show_name varchar(255), sort integer, sortable boolean, type varchar(255), class_id bigint, primary key (id))
create table e_upms_login_log (id bigint generated by default as identity (start with 1), browser varchar(255), device_type varchar(255), ip varchar(255), login_time timestamp, region varchar(255), system_name varchar(255), token varchar(255), erupt_user_id bigint, primary key (id))
create table e_upms_menu (id bigint generated by default as identity (start with 1), create_time timestamp, update_time timestamp, code varchar(255), icon varchar(255), name varchar(255), param varchar(2000), power_off varchar(255), sort integer, status integer, type varchar(255), value varchar(255), create_user_id bigint, update_user_id bigint, parent_menu_id bigint, primary key (id))
create table e_upms_operate_log (id bigint generated by default as identity (start with 1), api_name varchar(255), create_time timestamp, error_info longvarchar, ip varchar(255), region varchar(255), req_addr varchar(500), req_method varchar(255), req_param longvarchar, status boolean, total_time bigint, erupt_user_id bigint, primary key (id))
create table e_upms_org (id bigint generated by default as identity (start with 1), code varchar(255), name varchar(255), sort integer, parent_org_id bigint, primary key (id))
create table e_upms_post (id bigint generated by default as identity (start with 1), code varchar(255), name varchar(255), weight integer, primary key (id))
create table e_upms_role (id bigint generated by default as identity (start with 1), code varchar(255), name varchar(255), power_off varchar(255), status boolean, primary key (id))
create table e_upms_role_menu (role_id bigint not null, menu_id bigint not null, primary key (role_id, menu_id))
create table e_upms_user (id bigint generated by default as identity (start with 1), create_time timestamp, update_time timestamp, account varchar(255), email varchar(255), is_admin boolean, is_md5 boolean, name varchar(255), password varchar(255), phone varchar(255), remark varchar(2000), status boolean, white_ip varchar(2000), create_user_id bigint, update_user_id bigint, erupt_menu_id bigint, erupt_org_id bigint, erupt_post_id bigint, primary key (id))
create table e_upms_user_role (user_id bigint not null, role_id bigint not null, primary key (role_id, user_id))
alter table e_dict add constraint UKf5wwh5osfukkeebw7h2yb4kmp unique (code)
alter table e_dict_item add constraint UKl0kiq8otpn3fvtlvarebt8xkh unique (code, erupt_dict_id)
alter table e_upms_menu add constraint UK95xpkppt33d2bka0g2d7rgwqt unique (code)
alter table e_upms_post add constraint UKltq5h3n5cyyk5nxtjhg9lhidg unique (code)
alter table e_upms_role add constraint UKjgxkp7mr4183tcwosrbqpsl3a unique (code)
alter table e_upms_user add constraint UK812t22yn0295dkkvx5gjgahax unique (account)
alter table e_dict add constraint FKi8lurtplfsktg01y6uevop5yp foreign key (create_user_id) references e_upms_user
alter table e_dict add constraint FKhxpr89ae0g4rd9xpfgcdjf0sa foreign key (update_user_id) references e_upms_user
alter table e_dict_item add constraint FKij9x8hwy16dra7d49h483lu2u foreign key (create_user_id) references e_upms_user
alter table e_dict_item add constraint FKmlg0pjfxwih4i6r0g0iilh1lu foreign key (update_user_id) references e_upms_user
alter table e_dict_item add constraint FKrrbi2dt94rjd8sjt830m3w0a foreign key (erupt_dict_id) references e_dict
alter table e_generator_class add constraint FKbnmtsmoprxey1uh6hwa7kl15b foreign key (create_user_id) references e_upms_user
alter table e_generator_class add constraint FKl47n6nt0w2ulphuhmwht6jdlw foreign key (update_user_id) references e_upms_user
alter table e_generator_field add constraint FKslwo9qwwfbgif9mbbhg072s4i foreign key (class_id) references e_generator_class
alter table e_upms_login_log add constraint FKjqnr9oel32kajm6bpvqwomv6m foreign key (erupt_user_id) references e_upms_user
alter table e_upms_menu add constraint FK4p5siq6l1rf9y47bosayghcsv foreign key (create_user_id) references e_upms_user
alter table e_upms_menu add constraint FKtm66wffkyyluinneyva8kd2bc foreign key (update_user_id) references e_upms_user
alter table e_upms_menu add constraint FK5mkgea183mm02v7ic1pdwxy5s foreign key (parent_menu_id) references e_upms_menu
alter table e_upms_operate_log add constraint FK27xepkxthq9snq3yk6k7iad33 foreign key (erupt_user_id) references e_upms_user
alter table e_upms_org add constraint FKtj7222kjnkt7pv9kfn9g8ck4h foreign key (parent_org_id) references e_upms_org
alter table e_upms_role_menu add constraint FKr6bl403chgwjnb6jk0uqqd9x8 foreign key (menu_id) references e_upms_menu
alter table e_upms_role_menu add constraint FKgsdnakqsme4htxkiapwmf6tbi foreign key (role_id) references e_upms_role
alter table e_upms_user add constraint FKdvwfw4x66ahh1tavd69cnx4i0 foreign key (create_user_id) references e_upms_user
alter table e_upms_user add constraint FKct3f9stm4eti10401f7rbh5ey foreign key (update_user_id) references e_upms_user
alter table e_upms_user add constraint FKga0jd7sahnn1tv14mq4dy5kba foreign key (erupt_menu_id) references e_upms_menu
alter table e_upms_user add constraint FK1re8jv3614mkk2wfxscvgvmnm foreign key (erupt_org_id) references e_upms_org
alter table e_upms_user add constraint FK53cice19aydjcuykpv847ocdv foreign key (erupt_post_id) references e_upms_post
alter table e_upms_user_role add constraint FK3h4lekfh26f5f8b7by3ejges6 foreign key (role_id) references e_upms_role
alter table e_upms_user_role add constraint FKes2ylim5w3ej690ss84sb956x foreign key (user_id) references e_upms_user
INSERT INTO E_UPMS_USER VALUES(1,'2021-06-27 00:20:23.128000',NULL,'erupt',NULL,TRUE,TRUE,'erupt','610d44f73b7709169e8e06ca4ac5af8e',NULL,NULL,TRUE,NULL,NULL,NULL,NULL,NULL,NULL)
INSERT INTO E_UPMS_MENU VALUES(1,NULL,NULL,'$manager','fa fa-cogs','\u7cfb\u7edf\u7ba1\u7406',NULL,NULL,0,1,NULL,NULL,NULL,NULL,NULL)
INSERT INTO E_UPMS_MENU VALUES(2,NULL,NULL,'EruptMenu','fa fa-list-ul','\u83dc\u5355\u7ef4\u62a4',NULL,NULL,10,1,'tree','EruptMenu',NULL,NULL,1)
INSERT INTO E_UPMS_MENU VALUES(3,NULL,NULL,'EruptRole',NULL,'\u89d2\u8272\u7ef4\u62a4',NULL,NULL,20,1,'table','EruptRole',NULL,NULL,1)
INSERT INTO E_UPMS_MENU VALUES(4,NULL,NULL,'EruptOrg','fa fa-users','\u7ec4\u7ec7\u7ef4\u62a4',NULL,NULL,30,1,'tree','EruptOrg',NULL,NULL,1)
INSERT INTO E_UPMS_MENU VALUES(5,NULL,NULL,'EruptPost','fa fa-id-card','\u5c97\u4f4d\u7ef4\u62a4',NULL,NULL,35,1,'table','EruptPost',NULL,NULL,1)
INSERT INTO E_UPMS_MENU VALUES(6,NULL,NULL,'EruptUser','fa fa-user','\u7528\u6237\u7ef4\u62a4',NULL,NULL,40,1,'table','EruptUser',NULL,NULL,1)
INSERT INTO E_UPMS_MENU VALUES(7,NULL,NULL,'EruptDict',NULL,'\u5b57\u5178\u7ef4\u62a4',NULL,NULL,50,1,'table','EruptDict',NULL,NULL,1)
INSERT INTO E_UPMS_MENU VALUES(8,NULL,NULL,'EruptDictItem',NULL,'\u5b57\u5178\u9879',NULL,NULL,10,2,'table','EruptDictItem',NULL,NULL,7)
INSERT INTO E_UPMS_MENU VALUES(9,NULL,NULL,'EruptLoginLog',NULL,'\u767b\u5f55\u65e5\u5fd7',NULL,NULL,60,1,'table','EruptLoginLog',NULL,NULL,1)
INSERT INTO E_UPMS_MENU VALUES(10,NULL,NULL,'EruptOperateLog',NULL,'\u64cd\u4f5c\u65e5\u5fd7',NULL,NULL,70,1,'table','EruptOperateLog',NULL,NULL,1)
COMMIT
INSERT INTO E_UPMS_MENU VALUES(11,NULL,NULL,'$generator','fa fa-code','\u4ee3\u7801\u751f\u6210',NULL,NULL,40,1,NULL,NULL,NULL,NULL,NULL)
INSERT INTO E_UPMS_MENU VALUES(12,NULL,NULL,'GeneratorClass',NULL,'\u751f\u6210Erupt\u4ee3\u7801',NULL,NULL,0,1,'table','GeneratorClass',NULL,NULL,11)
COMMIT
INSERT INTO E_UPMS_LOGIN_LOG VALUES(1,'Chrome 8 84','Computer','192.168.0.106','2021-06-27 00:20:34.408000','0|0|0|\u5185\u7f51IP|\u5185\u7f51IP','Windows 10','OcTwALqf2juDnzVP',1)
COMMIT
